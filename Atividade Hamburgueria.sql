CREATE DATABASE HAMBURGUERIA;

CREATE TABLE PESSOAS (
	CODIGO_DA_PESSOA BIGINT,
	NOME VARCHAR(40),
	CPF_CNPJ VARCHAR(14),
	DATA_DE_NASCIMENTO DATE,
	TELEFONE VARCHAR(15),
	TIPO_PESSOA BIT,
	SEXO VARCHAR(1),
	VALOR_CUPOM MONEY,
	ENDERECO VARCHAR(30),
	BAIRRO VARCHAR(30),
	CIDADE VARCHAR(30),
	ESTADO VARCHAR(2),
	CEP VARCHAR(9),
	ATUALIZADO DATETIME,
	CRIADO DATETIME,
)

CREATE TABLE PRODUTO (
	CODIGO_PRODUTO BIGINT,
	NOME VARCHAR(40),
	QUANTIDADE INT,
	MARCA VARCHAR(30),
	VALOR_COMPRA MONEY,
	VALOR_VENDA MONEY,
	NCM VARCHAR(8),
	STATUS_ESTOQUE BIT, 
	ATUALIZADO DATETIME,
	CRIADO DATETIME,
)

CREATE TABLE ESTOQUE (
	CODIGO_ESTOQUE BIGINT,
	CODIGO_PRODUTO BIGINT,
	QUANTIDADE INT,
	ESTOQUE_MINIMO SMALLINT,
	CUSTO_UNITARIO MONEY,
	VALOR_UNITARIO MONEY,
	ATUALIZADO DATETIME,
	CRIADO DATETIME,
)

ALTER TABLE PRODUTO ADD CATEGORIA VARCHAR(20);
ALTER TABLE PRODUTO ADD DATA_VENCIMENTO DATE;

CREATE TABLE CONTAS (
	CODIGO_TRANSACAO INT,
	VALOR MONEY,
	DATA_TRANSACAO DATE,
	CATEGORIA VARCHAR(15),
	DESCRICAO VARCHAR(50),
)


SELECT * FROM CONTAS;
SELECT * FROM PESSOAS;
SELECT * FROM PRODUTO;
SELECT * FROM ESTOQUE;

INSERT INTO PESSOAS (CODIGO_DA_PESSOA, NOME, CPF_CNPJ, DATA_DE_NASCIMENTO, TELEFONE, TIPO_PESSOA, SEXO, VALOR_CUPOM, ENDERECO, BAIRRO, CIDADE, ESTADO,
CEP, ATUALIZADO, CRIADO) VALUES
('1', 'JOÃO SOUZA', '123.456.789-00', '15/04/2011', '(11) 98765-4321', 'FÍSICA', 'M', '50.00', 'RUA DAS FLORES', 'CENTRO', 'SÃO PAULO', 'SP', '01000-000', '2025-25-02 19:44:50', '2025-25-02 19:44:50'),
('2', 'MARIA OLIVEIRA', '987.654.321-00', '22/09/1990', '(21) 99988-7766', 'FÍSICA', 'F', '30.00', 'AV. BRASIL', 'COPACABANA', 'RIO DE JANEIRO', 'RJ', '22000-000', '2024-27-03 14:35:58', '2020-15-09 13:50:22'),
('3', 'EMPRESA XYZ LTDA', '12345678000199', '', '(31) 3344-5566', 'JURÍDICA', '-', '100.00', 'RUA DAS INDÚSTRIAS', 'CENTRO', 'BELO HORIZONTE', 'MG', '30100-000', '2024-27-03 14:35:58', '2020-15-09 13:50:22'),
('4', 'CARLOS MENDES', '321.654.987-00', '05/07/1982', '(41) 91234-5678', 'FÍSICA', 'M', '75.00', 'RUA VERDE', 'BATEL', 'CURITIBA', 'PR', '80400-000', '2020-08-05 09:34:22', '2022-02-03 15:12:47'),
('5', 'ANA SOUZA', '456.123.789-00', '10/12/1995', '(85) 97654-3210', 'FÍSICA', 'F', '60.00', 'AV. DAS PALMEIRAS', 'MEIRELES', 'FORTALEZA', 'CE', '60165-121', '2023-05-12 14:08:36', '2025-29-01 16:58:41')

INSERT INTO PRODUTO (CODIGO_PRODUTO, NOME, QUANTIDADE, MARCA, VALOR_COMPRA, VALOR_VENDA, NCM, STATUS_ESTOQUE, ATUALIZADO, CRIADO, CATEGORIA, DATA_VENCIMENTO)VALUES
('1', 'BATATA FRITA MÉDIA', '50', 'FOOD SERVICE', '13.50', '19.99', '2004.10.00', '1', '2024-03-01 14:35:58', '2023-15-12 08:40:28', 'ALIMENTOS', '2025-06-10'),
('2', 'HAMBÚRGUER ARTESANAL 180G', '40', 'GRILL MASTER', '17.80', '35.99', '0202.30.00', '1', '2024-05-02 13:30:12', '2023-15-11 11:21:27', 'ALIMENTOS', '2025-02-11'),
('3', 'MOLHO ESPECIAL DA CASA', '30', 'CHEF BURGER', '13.50', '17.50', '2103.90.90', '1', '2024-28-02 17:18:45', '2023-10-10 07:40:33', 'LIMPEZA', '2026-06-01'),
('4', 'REFRIGERANTE LATA 350ML', '100', 'COCA-COLA', '3.00', '6.50', '2202.10.00', '1', '2024-03-02 16:40:29', '2023-25-09 17:58:49', 'BEBIDAS', '2025-12-15'),
('5', 'X-BACON COMPLETO', '25', 'BURGER HOUSE', '12.00', '24.99', '1602.50.00', '0', '2024-20-02 12:30:50', '2023-08-05 16:50:12', 'HIGIENE', '2026-10-05')

INSERT INTO ESTOQUE (CODIGO_ESTOQUE, CODIGO_PRODUTO, QUANTIDADE, ESTOQUE_MINIMO, CUSTO_UNITARIO, VALOR_UNITARIO, ATUALIZADO, CRIADO)VALUES
('1', '1', '50', '10', '13.50', '19.99', '2024-03-01 08:40:28', '2023-15-12 19:44:50'),
('2', '2', '40', '8', '17.80', '35.99', '2024-02-05 09:34:22', '2023-20-11 07:40:33'),
('3', '3', '30', '5', '13.50', '17.50', '2024-02-08 16:58:41', '2023-10-10 17:18:45'),
('4', '4', '100', '20', '3.00', '6.50', '2024-03-02 13:50:22', '2023-25-09 11:21:27'),
('5', '5', '25', '5', '12.00', '24.99', '2024-20-02 13:30:12', '2023-17-08 16:50:12')

INSERT INTO CONTAS (CODIGO_TRANSACAO, VALOR,DATA_TRANSACAO, CATEGORIA, DESCRICAO)VALUES
('1', '450.00', '2025-02-01', 'SAÍDA', 'PEDIDO #150 - X-BACON + BATATA + REFRI'),
('2', '120.00', '2025-02-01', 'SAÍDA', 'COMPRA DE CARNE E PÃO'),
('3', '15.00', '2025-02-03', 'SAÍDA', 'ENTREGA PEDIDO #145'),
('4', '280.00', '2025-01-30', 'SAÍDA', 'PAGAMENTO DO COZINHEIRO'),
('5', '60.00', '2025-02-01', 'SAÍDA', 'TROCA DE ÓLEO DA FRITADEIRA'),
('6', '7900.00', '2025-01-30', 'ENTRADA', 'VENDA DE LANCHES - PEDIDOS DO MÊS DE FEVEREIRO'),
('7', '2000.00', '2025-01-30', 'SAÍDA', 'ALUGUEL')

--Busca de produto usando like %nois dois lados% se contem a palavra %os que termina, os que começa%
--SELECT * FROM PRODUTO WHERE NOME LIKE 'REFRIGERANTE';

--9. Consultas na tabela PESSOA
-- a) Pessoas com data de nascimento maior que 25/10/2010
SELECT * FROM PESSOAS WHERE DATA_DE_NASCIMENTO > '2010-10-25';

-- b) Pessoas nascidas em 2008 ou 2010
SELECT * FROM PESSOAS WHERE YEAR(DATA_DE_NASCIMENTO) IN (2008, 2010);

-- c) Pessoas com sobrenome 'SOUZA'
SELECT * FROM PESSOAS WHERE NOME LIKE '%SOUZA%';

-- 10. Consultas na tabela PRODUTO.
-- a) Produtos com valor de compra entre R$ 20,00 e R$ 75,00

SELECT * FROM PRODUTO WHERE VALOR_COMPRA BETWEEN 20.00 AND 75.00;

-- b) Produtos com status inativo (valor igual a 0)

SELECT * FROM PRODUTO WHERE STATUS_ESTOQUE = 0;
-- c) Produtos cujo nome começa com 'REFRIGERANTE'

SELECT * FROM PRODUTO WHERE NOME LIKE 'REFRIGERANTE%';
